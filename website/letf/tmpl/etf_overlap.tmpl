<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{ .Analysis.LETFHolder }} overlap with {{$equipment := .Analysis.LETFHoldees}}{{ range $index, $element :=
        .Analysis.LETFHoldees}}{{if $index}}_{{end}}{{$element}}{{end}}</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ================= Favicon ================== -->
    <!-- Standard -->
    <link rel="shortcut icon" href="http://placehold.it/64.png/000/fff">
    <!-- Retina iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="144x144" href="http://placehold.it/144.png/000/fff">
    <!-- Retina iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="114x114" href="http://placehold.it/114.png/000/fff">
    <!-- Standard iPad Touch Icon-->
    <link rel="apple-touch-icon" sizes="72x72" href="http://placehold.it/72.png/000/fff">
    <!-- Standard iPhone Touch Icon-->
    <link rel="apple-touch-icon" sizes="57x57" href="http://placehold.it/57.png/000/fff">

    <!-- Styles -->
    <link href="/css/lib/font-awesome.min.css" rel="stylesheet">
    <link href="/css/lib/themify-icons.css" rel="stylesheet">
    <link href="/css/lib/data-table/buttons.bootstrap.min.css" rel="stylesheet"/>
    <link href="/css/lib/menubar/sidebar.css" rel="stylesheet">
    <link href="/css/lib/bootstrap.min.css" rel="stylesheet">
    <link href="/css/lib/helper.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>
<div>
    <h1>
        <small>Overlap between </small>{{ .Analysis.LETFHolder }} <small>overlap with </small>
        [{{ range $index,$element := .Analysis.LETFHoldees}}{{if $index}},{{end}}{{$element}}{{end}}]
    </h1>
    <h2>
        <small>Total Overlap Percentage: </small> {{ .Analysis.OverlapPercentage }}
    </h2>
    <section id="holdings-content">
        <div class="row">
            <div class="col-lg-3">
                <div class="card">
                    <div class="stat-widget-one">
                        <div class="stat-icon dib"><i class="ti-crown color-success border-success"></i>
                        </div>
                        <div class="stat-content dib">
                            <div class="stat-text">Total holdings in <b>{{ .Analysis.LETFHolder }}</b></div>
                            <div class="stat-digit">{{ (index $.ETFsMap .Analysis.LETFHolder).HoldingsCount }}</div>
                        </div>
                    </div>
                </div>
            </div>
            {{ range .Analysis.LETFHoldees }}
                <div class="col-lg-3">
                    <div class="card">
                        <div class="stat-widget-one">
                            <div class="stat-icon dib"><i class="ti-control-backward color-primary border-primary"></i>
                            </div>
                            <div class="stat-content dib">
                                <div class="stat-text">Total holdings in <b>{{ . }}</b></div>
                                <div class="stat-digit">{{ (index $.ETFsMap .).HoldingsCount }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            {{ end }}
            <div class="col-lg-3">
                <div class="card">
                    <div class="stat-widget-one">
                        <div class="stat-icon dib"><i class="ti-target color-primary border-success"></i>
                        </div>
                        <div class="stat-content dib">
                            <div class="stat-text">Intersection holdings</div>
                            <div class="stat-digit">{{ (len $.Analysis.DetailedOverlap ) }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-title">
                        <h3><small>Overlap breakdown for </small><b>{{ .Analysis.LETFHolder }}</b></h3>
                    </div>
                    <div class="card-body">
                        <div class="bootstrap-data-table-panel">
                            <div>
                                <table id="row-select-holdings"
                                       class="display table table-bordered table-hover dataTable"
                                       role="grid"
                                       aria-describedby="row-select_info">
                                    <thead>
                                    <tr>
                                        <th>Holding Stock Name</th>
                                        <th>Ticker</th>
                                        <th>Percentage Exposure in {{ .Analysis.LETFHolder }}</th>
                                        {{ range .Analysis.LETFHoldees }}
                                            <th>Percentage Exposure in {{ . }}</th>
                                        {{ end }}
                                        <th>Minimum Percentage Overlap</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {{ with .Analysis.DetailedOverlap }}
                                        {{ range . }}
                                            <tr>
                                                <td>
                                                    <span class="rounded_border">{{ (index $.StocksMap .Ticker).StockDescription }}</span>
                                                </td>
                                                <td><span class="rounded_border etf_ticker"><a
                                                                href="{{ $.WebsitePaths.StockSummary }}/{{ .Ticker }}.html">{{ .Ticker }}</a></span>
                                                </td>
                                                <td>{{index .IndividualPercentagesMap $.Analysis.LETFHolder}}</td>
                                                {{ $individualPercentagesMap := .IndividualPercentagesMap }}
                                                {{ range $.Analysis.LETFHoldees }}
                                                    <td>{{index $individualPercentagesMap .}}</td>
                                                {{ end }}
                                                <td>{{ .Percentage }}</td>
                                            </tr>
                                        {{ end }}
                                    {{ end }}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div id="bottom">
        <table id="bottom_table">
            <tr>
                <td>
                    Powered by GitHub
                </td>
                <td>
                    Powered by GCP
                </td>
                <td>
                    Please file issues, features <a
                            href="https://github.com/ravivooda/stocks/issues/new/choose">here</a>
                </td>
            </tr>
        </table>
    </div>
    <!-- jquery vendor -->
    <script src="/js/lib/jquery.min.js"></script>
    <script src="/js/lib/jquery.nanoscroller.min.js"></script>
    <!-- nano scroller -->
    <script src="/js/lib/menubar/sidebar.js"></script>
    <script src="/js/lib/preloader/pace.min.js"></script>
    <!-- sidebar -->

    <!-- bootstrap -->

    <script src="/js/lib/bootstrap.min.js"></script>
    <script src="/js/scripts.js"></script>
    <!-- scripit init-->
    <script src="/js/lib/data-table/datatables.min.js"></script>
    <script src="/js/lib/data-table/dataTables.buttons.min.js"></script>
    <script src="/js/lib/data-table/buttons.flash.min.js"></script>
    <script src="/js/lib/data-table/jszip.min.js"></script>
    <script src="/js/lib/data-table/pdfmake.min.js"></script>
    <script src="/js/lib/data-table/vfs_fonts.js"></script>
    <script src="/js/lib/data-table/buttons.html5.min.js"></script>
    <script src="/js/lib/data-table/buttons.print.min.js"></script>
    <script src="/js/lib/data-table/datatables-init.js"></script>
</div>
</body>
</html>